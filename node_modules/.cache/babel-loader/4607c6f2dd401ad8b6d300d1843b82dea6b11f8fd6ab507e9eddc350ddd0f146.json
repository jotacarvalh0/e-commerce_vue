{"ast":null,"code":"export default {\n  name: 'shopView',\n  data() {\n    return {\n      produtosCarr: []\n    };\n  },\n  mounted() {\n    this.requisicaoCarrinho();\n  },\n  methods: {\n    requisicaoCarrinho() {\n      fetch('http://localhost:3000/carrinho').then(response => response.json()).then(data => {\n        this.produtosCarr = data;\n      }).catch(error => {\n        console.log('Erro na requisição', error);\n      });\n    },\n    calcularTotalCarrinho() {\n      if (Array.isArray(this.produtosCarr) && this.produtosCarr.length > 0) {\n        return this.produtosCarr.reduce((total, produto) => total + produto.preco, 0);\n      } else {\n        return 0; // ou qualquer valor padrão que você preferir\n      }\n    },\n    removerDoCarrinho(produtoId) {\n      // Função para remover um produto do carrinho\n      fetch(`http://localhost:3000/carrinho/${produtoId}`, {\n        method: 'DELETE'\n      }).then(response => response.json()).then(data => {\n        // Atualiza a lista de produtos no carrinho após a remoção\n        this.produtosCarr = data;\n      }).catch(error => {\n        console.error('Erro ao remover produto do carrinho', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","produtosCarr","mounted","requisicaoCarrinho","methods","fetch","then","response","json","catch","error","console","log","calcularTotalCarrinho","Array","isArray","length","reduce","total","produto","preco","removerDoCarrinho","produtoId","method"],"sources":["C:\\softwares\\project\\front-end\\e-commerce_vue\\src\\views\\ShopView.vue"],"sourcesContent":["<template>\r\n    <div class=\"Shop\">\r\n      <div class=\"produtos-carrinho pt-64 pb-32\">\r\n        <div class=\"container\">\r\n          <h3>Carrinho de Compras</h3>\r\n          <div class=\"lista-produtos-carrinho mt-32\">\r\n            <div class=\"produto-carrinho display-flex justify-content-space-between align-items-center gap-16 pb-24\" v-for=\"produto in produtosCarr\" :key=\"produto.id\">\r\n              <div class=\"detalhes display-flex align-items-center gap-16\">\r\n                <figure>\r\n                  <img :src=\"produto.image\">\r\n                </figure>\r\n                <article>\r\n                  <p class=\"nome-produto\">{{ produto.title }}</p>\r\n                  <p class=\"categoria\">{{ produto.categoria }}</p>\r\n                  <p class=\"preco\">R$ {{ produto.preco.toFixed(2).replace('.',',') }}</p>\r\n                </article>\r\n              </div>\r\n              <button @click=\"removerDoCarrinho(produto.id)\">\r\n                <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M10 10V16M14 10V16M18 6V18C18 19.1046 17.1046 20 16 20H8C6.89543 20 6 19.1046 6 18V6M4 6H20M15 6V5C15 3.89543 14.1046 3 13 3H11C9.89543 3 9 3.89543 9 5V6\" stroke=\"#ffffff\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n                Remover do carrinho\r\n              </button>\r\n            </div>\r\n            <p class=\"total\">Total: R$ {{ calcularTotalCarrinho().toFixed(2).replace('.', ',') }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: 'shopView',\r\n    data() {\r\n      return {\r\n        produtosCarr: [],\r\n      };\r\n    },\r\n    mounted() {\r\n      this.requisicaoCarrinho();\r\n    },\r\n    methods: {\r\n      requisicaoCarrinho() {\r\n        fetch('http://localhost:3000/carrinho')\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n            this.produtosCarr = data;\r\n          })\r\n          .catch((error) => {\r\n            console.log('Erro na requisição', error);\r\n          });\r\n      },\r\n      calcularTotalCarrinho() {\r\n        if (Array.isArray(this.produtosCarr) && this.produtosCarr.length > 0) {\r\n          return this.produtosCarr.reduce((total, produto) => total + produto.preco, 0);\r\n        } else {\r\n          return 0; // ou qualquer valor padrão que você preferir\r\n        }\r\n      },\r\n      removerDoCarrinho(produtoId) {\r\n        // Função para remover um produto do carrinho\r\n        fetch(`http://localhost:3000/carrinho/${produtoId}`, {\r\n          method: 'DELETE',\r\n        })\r\n          .then((response) => response.json())\r\n          .then((data) => {\r\n            // Atualiza a lista de produtos no carrinho após a remoção\r\n            this.produtosCarr = data;\r\n          })\r\n          .catch((error) => {\r\n            console.error('Erro ao remover produto do carrinho', error);\r\n          });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  .detalhes figure img {\r\n    width: 250px;\r\n    height: 250px;\r\n  }\r\n  </style>\r\n  "],"mappings":"AAgCE,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACPD,kBAAkBA,CAAA,EAAG;MACnBE,KAAK,CAAC,gCAAgC,EACnCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEN,IAAI,IAAK;QACd,IAAI,CAACC,YAAW,GAAID,IAAI;MAC1B,CAAC,EACAS,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MAC1C,CAAC,CAAC;IACN,CAAC;IACDG,qBAAqBA,CAAA,EAAG;MACtB,IAAIC,KAAK,CAACC,OAAO,CAAC,IAAI,CAACd,YAAY,KAAK,IAAI,CAACA,YAAY,CAACe,MAAK,GAAI,CAAC,EAAE;QACpE,OAAO,IAAI,CAACf,YAAY,CAACgB,MAAM,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAKD,KAAI,GAAIC,OAAO,CAACC,KAAK,EAAE,CAAC,CAAC;MAC/E,OAAO;QACL,OAAO,CAAC,EAAE;MACZ;IACF,CAAC;IACDC,iBAAiBA,CAACC,SAAS,EAAE;MAC3B;MACAjB,KAAK,CAAE,kCAAiCiB,SAAU,EAAC,EAAE;QACnDC,MAAM,EAAE;MACV,CAAC,EACEjB,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEN,IAAI,IAAK;QACd;QACA,IAAI,CAACC,YAAW,GAAID,IAAI;MAC1B,CAAC,EACAS,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}